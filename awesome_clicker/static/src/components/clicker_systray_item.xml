<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="awesome_clicker.ClickerSystrayItem">

        <Dropdown>
            <!-- Trigger Button -->
            <button slot="trigger" class="btn btn-sm d-flex align-items-center gap-2" title="Clicker Game">
                <span>ğŸ–±ï¸ <ClickValue value="clicker.clicks"/></span>
                <t t-if="clicker.level >= 4">
                    <span>ğŸŒ³ <t t-esc="clicker.getTotalTrees()"/></span>
                    <span>ğŸ <t t-esc="clicker.getTotalFruits()"/></span>
                </t>
            </button>

            <!-- Dropdown content -->
            <div class="o_clicker_stats">
                <strong>ğŸ“Š Game Statistics</strong>

                <div class="stat-item">
                    <span class="stat-label">ğŸ–±ï¸ Total Clicks</span>
                    <span class="stat-value"><ClickValue value="clicker.clicks"/></span>
                </div>

                <div class="stat-item">
                    <span class="stat-label">âš¡ Power Level</span>
                    <span class="stat-value">x<t t-esc="clicker.power"/></span>
                </div>

                <t t-if="clicker.level >= 1">
                    <div class="stat-item">
                        <span class="stat-label">ğŸ¤– ClickBots</span>
                        <span class="stat-value"><t t-esc="clicker.clickBots"/></span>
                    </div>
                </t>

                <t t-if="clicker.level >= 2">
                    <div class="stat-item">
                        <span class="stat-label">ğŸ¦¾ BigBots</span>
                        <span class="stat-value"><t t-esc="clicker.bigBots"/></span>
                    </div>
                </t>

                <t t-if="clicker.level >= 4">
                    <div class="tree-stats">
                        <div class="tree-item">
                            ğŸ Pears: <t t-esc="clicker.pearTrees"/> trees, <t t-esc="clicker.pearFruits"/> fruits
                        </div>
                        <div class="tree-item">
                            ğŸ’ Cherries: <t t-esc="clicker.cherryTrees"/> trees, <t t-esc="clicker.cherryFruits"/> fruits
                        </div>
                        <div class="tree-item">
                            ğŸ‘ Peaches: <t t-esc="clicker.peachTrees"/> trees, <t t-esc="clicker.peachFruits"/> fruits
                        </div>
                    </div>
                </t>
            </div>

            <!-- Actions -->
            <div class="o_clicker_actions">
                <DropdownItem onSelected="() => this.openClientAction()">
                    ğŸ® Open Clicker Game
                </DropdownItem>

                <t t-if="clicker.level >= 1">
                    <DropdownItem 
                        onSelected="() => this.buyClickBot()"
                        class="{'disabled': !canAfford(1000)}">
                        ğŸ¤– Buy ClickBot (1,000)
                    </DropdownItem>
                </t>

                <t t-if="clicker.level >= 2">
                    <DropdownItem 
                        onSelected="() => this.buyBigBot()"
                        class="{'disabled': !canAfford(5000)}">
                        ğŸ¦¾ Buy BigBot (5,000)
                    </DropdownItem>
                </t>

                <t t-if="clicker.level >= 3">
                    <DropdownItem 
                        onSelected="() => this.buyPower()"
                        class="{'disabled': !canAfford(50000)}">
                        âš¡ Upgrade Power (50,000)
                    </DropdownItem>
                </t>
            </div>

        </Dropdown>

    </t>
</templates>
