<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <!-- 
        Professional Clicker Systray Dropdown
    -->
    <t t-name="awesome_clicker.ClickerSystrayItem">
        <Dropdown class="'o_clicker_systray_dropdown'">
            <t t-set-slot="toggler">
                <button class="btn btn-sm d-flex align-items-center gap-2" title="Clicker Game">
                    <!-- Main stats in systray -->
                    <span>üñ±Ô∏è <ClickValue value="clicker.clicks"/></span>
                    <t t-if="clicker.level >= 4">
                        <span>üå≥ <t t-esc="clicker.getTotalTrees()"/></span>
                        <span>üçé <t t-esc="clicker.getTotalFruits()"/></span>
                    </t>
                </button>
            </t>

            <!-- Dropdown content -->
            <t t-set-slot="default">
                <!-- Stats section with gradient background -->
                <div class="o_clicker_stats">
                    <strong>üìä Game Statistics</strong>
                    
                    <div class="stat-item">
                        <span class="stat-label">üñ±Ô∏è Total Clicks</span>
                        <span class="stat-value"><ClickValue value="clicker.clicks"/></span>
                    </div>
                    
                    <div class="stat-item">
                        <span class="stat-label">‚ö° Power Level</span>
                        <span class="stat-value">x<t t-esc="clicker.power"/></span>
                    </div>
                    
                    <t t-if="clicker.level >= 1">
                        <div class="stat-item">
                            <span class="stat-label">ü§ñ ClickBots</span>
                            <span class="stat-value"><t t-esc="clicker.clickBots"/></span>
                        </div>
                    </t>
                    
                    <t t-if="clicker.level >= 2">
                        <div class="stat-item">
                            <span class="stat-label">ü¶æ BigBots</span>
                            <span class="stat-value"><t t-esc="clicker.bigBots"/></span>
                        </div>
                    </t>
                    
                    <!-- Tree stats -->
                    <t t-if="clicker.level >= 4">
                        <div class="tree-stats">
                            <div class="tree-item">
                                üçê Pears: <t t-esc="clicker.pearTrees"/> trees, <t t-esc="clicker.pearFruits"/> fruits
                            </div>
                            <div class="tree-item">
                                üçí Cherries: <t t-esc="clicker.cherryTrees"/> trees, <t t-esc="clicker.cherryFruits"/> fruits
                            </div>
                            <div class="tree-item">
                                üçë Peaches: <t t-esc="clicker.peachTrees"/> trees, <t t-esc="clicker.peachFruits"/> fruits
                            </div>
                        </div>
                    </t>
                </div>

                <!-- Quick actions -->
                <div class="o_clicker_actions">
                    <DropdownItem onSelected="() => this.openClientAction()">
                        üéÆ Open Clicker Game
                    </DropdownItem>
                    
                    <t t-if="clicker.level >= 1">
                        <DropdownItem 
                            onSelected="() => this.buyClickBot()"
                            class="{'disabled': !canAfford(1000)}">
                            ü§ñ Buy ClickBot (1,000)
                        </DropdownItem>
                    </t>
                    
                    <t t-if="clicker.level >= 2">
                        <DropdownItem 
                            onSelected="() => this.buyBigBot()"
                            class="{'disabled': !canAfford(5000)}">
                            ü¶æ Buy BigBot (5,000)
                        </DropdownItem>
                    </t>
                    
                    <t t-if="clicker.level >= 3">
                        <DropdownItem 
                            onSelected="() => this.buyPower()"
                            class="{'disabled': !canAfford(50000)}">
                            ‚ö° Upgrade Power (50,000)
                        </DropdownItem>
                    </t>
                </div>
            </t>
        </Dropdown>
    </t>
</templates>